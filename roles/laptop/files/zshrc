export ZSH="$HOME/.oh-my-zsh"
source $ZSH/oh-my-zsh.sh
source ~/.config/antigen.zsh

# Antigen stuff
antigen use oh-my-zsh

antigen bundle 1password
antigen bundle autojump
antigen bundle battery
antigen bundle docker
antigen bundle dotenv
antigen bundle gh
antigen bundle git
antigen bundle gitignore
antigen bundle httpie
antigen bundle macos
antigen bundle magic-enter
antigen bundle mosh
antigen bundle nmap
antigen bundle pip
antigen bundle pyenv
antigen bundle python
antigen bundle sudo
antigen bundle terraform
antigen bundle vi-mode
antigen bundle virtualenv
antigen bundle vscode
antigen bundle web-search

antigen bundle zsh-users/zsh-syntax-highlighting
antigen bundle zsh-users/zsh-autosuggestions
ZSH_AUTOSUGGEST_HIGHLIGHT_STYLE="underline"

# antigen theme agnoster
# antigen theme KuoE0/oh-my-zsh-solarized-powerline-theme solarized-powerline
# antigen theme bhilburn/powerlevel9k powerlevel9k
antigen theme romkatv/powerlevel10k

# THEME STUFF
POWERLEVEL9K_COLOR_SCHEME="$(dark-notify -e)"
POWERLEVEL9K_LEFT_PROMPT_ELEMENTS=(vi_mode context dir dir_writable vcs aws virtualenv)
POWERLEVEL9K_RIGHT_PROMPT_ELEMENTS=(status ssh root_indicator background_jobs history time)
POWERLEVEL9K_VI_INSERT_MODE_STRING="\uf80b"
POWERLEVEL9K_VI_COMMAND_MODE_STRING="\uf80f"
POWERLEVEL9K_LEFT_SEGMENT_SEPARATOR=$'\uE0b4'
POWERLEVEL9K_LEFT_SUBSEGMENT_SEPARATOR=$'\uE0b5'
POWERLEVEL9K_RIGHT_SEGMENT_SEPARATOR=$'\uE0b6'
POWERLEVEL9K_RIGHT_SUBSEGMENT_SEPARATOR=$'\uE0b7'
POWERLEVEL9K_VI_MODE_NORMAL_BACKGROUND='red'
antigen apply

# HISTORY STUFF
HISTFILE="$HOME/.zhistory"
HISTSIZE=1000
HISTFILESIZE=2000
HISTORY_IGNORE="(l[alsh]#( *)#|[bf]g *|exit|pwd|clear)"
HISTIGNORE="(l[alsh]#( *)#|[bf]g *|exit|pwd|clear)"
setopt EXTENDED_HISTORY
setopt HIST_EXPIRE_DUPS_FIRST
setopt HIST_IGNORE_DUPS
setopt HIST_IGNORE_SPACE
setopt HIST_FIND_NO_DUPS
setopt HIST_SAVE_NO_DUPS
setopt NO_NOMATCH

# Misc options
export KEYTIMEOUT=1
export EDITOR=nvim
export JAVA_TOOLS_OPTIONS="-Dlog4j2.formatMsgNoLookups=true"
export PAGER='less -FRX'


# Auto complete aws cli
autoload -Uz compinit
compinit
autoload bashcompinit && bashcompinit

if [[ -f /opt/homebrew/bin/aws_complete ]]
then
  complete -C /opt/homebrew/bin/aws_completer aws
fi

eval "$(pyenv init -)"
eval "$(op completion zsh)"

#Â bindkey -v

source ~/.bash_aliases
